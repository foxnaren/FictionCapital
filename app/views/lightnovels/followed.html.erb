<h1>My Followed Novels/Manga</h1>

<% if @all_followed.blank? %>
    <p>You have not followed anything.</p>
<% else %>
    <% cache @all_followed do %>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Total Number Of Chapters</th>
                    <th>Type</th>
                    <th>Follow/Unfollow</th>
                    <th colspan="3"></th>
                </tr>
            </thead>
            <tbody>
                <% @all_followed.each do |lightnovel| %>
                    <% cache ["single", lightnovel] do %>
                        <tr>
                            <td><%= link_to "#{lightnovel.name}", lightnovel %></td>
                            <td><%= lightnovel.number_of_chapters %></td>
                            <td><%= lightnovel.lightnovel_type %></td>
                            <td><%= link_to 'unfollow', unfollow_lightnovel_path(id: lightnovel.id, anchor: "followed_#{@previous_lightnovel}") %></td>
                            <!--chapter.chapter_url -->
                            <% @previous_lightnovel = lightnovel.id%>
                        </tr>
                    <% end %>
                <% end %>
            </tbody>
        </table>
    <% end %>        
<% end %>


<!--       t.string  :name, null: false
      t.string  :description, null: false
      t.string  :home_url, null: false
      t.boolean :is_translated, default: false
      t.string  :raws_url, default: nil
      t.integer :number_of_chapters, default: 0
      t.datetime :last_modified, default: Time.now
      t.string :selector_next_chapter, null: false
      t.string :selector_name, null: false
      t.string :lightnovel_type, null: false -->
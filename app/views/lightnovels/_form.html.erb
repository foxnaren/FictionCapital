<%= form_for(@lightnovel) do |f| %>
  <%= render "shared/error_messages", :target => @lightnovel %>
  
  <%= f.hidden_field :number_of_chapters, value: 1 %>
  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :description %><br>
    <%= f.text_field :description %>
  </div>
  <div class="field">
    <%= f.label :homepage %><br>
    <%= f.text_field :home_url %>
  </div>  
  <div class="field">
    <%= f.label :is_translated %> 
    <%= f.check_box  :is_translated %>
  </div>
  <div id="translated" style="display:none;">
    <div class="field">
      <%= f.label :raws_url %><br>
      <%= f.text_field :raws_url %>
    </div>
  </div>
  <div class="field">
    <%= f.label :next_chapter_selector %><br>
    <%= f.text_field :selector_next_chapter %>
  </div>  
  <div class="field">
    <%= f.label :name_selector %><br>
    <%= f.text_field :selector_name %>
  </div>  
  <%= f.fields_for :chapter_attribute do |c| %>
    <!--<fieldset>-->
      <%= c.hidden_field :chapter_number, value: 1 %>
      <div class="field">
        <%= c.label :first_chapter_name %><br>
        <%= c.text_field :chapter_name %>
      </div>    
      <div class="field">
        <%= c.label :first_chapter_url %><br>
        <%= c.text_field :chapter_url %>
      </div>
    <!--</fieldset>-->
  <% end %>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>

<script type="text/javascript">
  var checkbox = document.getElementById('lightnovel_is_translated');
  var details_div = document.getElementById('translated');
  checkbox.onchange = function() {
     if(this.checked) {
       details_div.style['display'] = 'block';
     } else {
       details_div.style['display'] = 'none';
     }
  };
</script>

>>> Add images to the lightnovel index



 accepted

https://pragmaticstudio.com/blog/2015/3/18/rails-jquery-ajax

https://blog.generalassemb.ly/sublime-text-3-tips-tricks-shortcuts/

Jquery and ajax


        <% if chapter.chapter_name == '-' %>

        <% end %>




			for @populate_chapter in 0...@lightnovel.total_number_of_chapters 
				logger.debug ">>>>lightnovel-create>>>@populate_chapter>>>>#{@populate_chapter}<<<<<<<<<<"
				create_chapters
			end

def create_chapters
			logger.debug ">>>>chapter_params>>>lightnovel.id>>>>#{@lightnovel}<<<<<<<<<<"
			lightnovel_id = @lightnovel.id
			logger.debug ">>>>chapter_params>>>lightnovel_id>>>>#{lightnovel_id}<<<<<<<<<<"
			chapter_name = "-"
			logger.debug ">>>>chapter_params>>>>>>>#{@lightnovel.chapters.pluck(:chapter_number).last}<<<<<<<<<<"
			if (@lightnovel.chapters.pluck(:chapter_number).last).present?
				chapter_number = @lightnovel.chapters.pluck(:chapter_number).last + 1
			else
				chapter_number = 1;
			end
			logger.debug ">>>>chapter_params>>>>>>>#{chapter_number}<<<<<<<<<<"
			raws_url = @lightnovel.raws_url
			if @lightnovel.is_translated == true
				translated_url = @lightnovel.translated_url
			else
				translated_url = @lightnovel.raws_url
			end
			logger.debug ">>>>chapter_params>>>>>>>#{params[:chapter]}<<<<<<<<<<"
		
			@chapter = Chapter.new(:lightnovel_id => lightnovel_id, :chapter_name => chapter_name, :chapter_number => chapter_number, :raws_url => raws_url, :translated_url => translated_url)
			@chapter.save
		end


		

		require 'rubygems'
require 'feedjira'
require 'open-uri'

url = "http://royalroadl.com/forum/syndication.php?fid=773"
feed = Feedjira::Feed.fetch_and_parse url

	# puts feed.title
	# puts feed.url
puts feed.entries.first.title
 #puts feed.entries.first.summary
# puts feed.entries.first.url
# puts feed.entries.first.published
 puts feed.entries.first.id


          # :name         => entry.title,
          # :summary      => entry.summary,
          # :url          => entry.url,
          # :published_at => entry.published,
          # :guid         => entry.id




          require 'rubygems'
require 'nokogiri'
require 'open-uri'

url = "http://royalroadl.com/fiction/2901"
doc = Nokogiri::HTML(open(url))

# puts doc.at_css(".fiction-title").text
# puts doc.at_css("p").text
puts doc.css(".chapter").text
# puts doc.at_css(":nth-child(1) span").text



#puts item.at_css(".prodLink")[:href]

# doc.css(".chapter").each do |chapter|
# 	puts chapter.at_css(".chapter").text
# #puts doc.at_css(".chapter")[:href]
# end

# puts item.at_css(".prodLink")[:href]

# doc.css(".chapter span:nth-child").each do |chapter|
# 	chaptername = chapter.at_css("").link
# 	puts chaptername
# end




#puts doc.at_css(".chapters").text



# doc.css(".chapters").each do |chapter|
# 	chaptername = chapter.at_css("").link
# end
#.chapter span:nth-child(1)

#.chapter:nth-child(3) span